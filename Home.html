<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>FlixOneStore Home</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('.container > div').not("#Home").hide();

            $('nav li a').click(function () {
                $('.container > div').hide();
                $('.nav li').removeClass('active');

                $(this).parent().addClass('active');
                $('#' + $(this).attr('data-div')).show();

                // Load profile details.
                if ($(this).attr('data-div') == 'Profile') {
                    // Call API.
                    // var email = 'songlei1@gmail.com',
                        // password = 'password';

                    $.ajax({
                        url: 'http://localhost:5000/api/Customers/1482b73c-f1fa-4812-a04d-f6fce55afe2f',
                        type: "GET",
                        contentType: "application/json",
                        dataType: "json",
                        headers: { 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ijc4YjEzMGI0NTUzMjEwYjgwMTQ4ZWNiMWFkOWU4NGU5IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NjYwMzU3OTUsImV4cCI6MTU2NjAzOTM5NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJDb3JlbWVyY2UuUmVhZEFjY2VzcyJdLCJjbGllbnRfaWQiOiJodG1sQ2xpZW50Iiwic3ViIjoiMTQ4MmI3M2MtZjFmYS00ODEyLWEwNGQtZjZmY2U1NWFmZTJmIiwiYXV0aF90aW1lIjoxNTY2MDM1Nzk1LCJpZHAiOiJsb2NhbCIsImlkIjoiMTQ4MmI3M2MtZjFmYS00ODEyLWEwNGQtZjZmY2U1NWFmZTJmIiwibmFtZSI6IlNvbmcgTGVpIiwiZ2l2ZW5fbmFtZSI6IlNvbmciLCJmYW1pbHlfbmFtZSI6IkxlaSIsImVtYWlsIjoic29uZ2xlaTFAZ21haWwuY29tIiwic2NvcGUiOlsiQ29yZW1lcmNlLlJlYWRBY2Nlc3MiXSwiYW1yIjpbImRhdGFiYXNlIl19.v5DrMWDqH6QFW2b7oZeLCeyyBcL6LzLFoQKozuGgpLdstuE4WQ_ZD4c4PAGCXjHOgWvRv0gVMy5PHNAOvpzMqf_ny1LfeEQdnTlNrE4dEeyDr1sFhRhI5HEWYDtIXukZBKnFUnY6EPa4AUqvNhBip3zVX8z0EL0cTIUrw05TSsBNsHP0_O6w-zSRAy1mK2Cz3wmiu5xJ9p2iVB6wy2iIbJdbzZceVTo8wapxkvI5N2GcNbSnVvuI4GGcF0Rx7wUzQItbMNToS4mdNDj3u3PtQoyTLvSpHtBwQuMcNIUrPQi8ozFa9jg8kjgTAXvnKTHxQ9nRRHPVAFuFB-ibOTaiJg' },
                        success: function (result) {
                            $('#Profile .form-horizontal').empty();
                            if (result) {
                                for (var key in result) {
                                    var value = result[key];

                                    $('<div class="form-group">')
                                        .append('<label class="control-label col-sm-2">' + key + '</label>')
                                        .append('<div class="col-sm-4"><input type="text" class="form-control" value="' + value + '" /></div>')
                                        .appendTo("#Profile .form-horizontal");
                                }
                            }
                        },
                        error: function (err) {
                            if (err.status == 401) {
                                alert("Either wrong email and password or you are not authorized to access the data!")
                            }
                        }
                    });
                }
            });
        });
    </script>
</head>
<body>
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">FlixOneStore</a>
            </div>
            <ul class="nav navbar-nav">
                <li class="active"><a data-div="Home" href="#">Home</a></li>
                <li><a id="aProfile" data-div="Profile" href="#">Profile</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <div id="Home">
            <h2>Home</h2>
        </div>
        <div id="Profile">
            <h2>My Profile</h2>
            <div class="form-horizontal">
            </div>
        </div>
    </div>
</body>
</html>
